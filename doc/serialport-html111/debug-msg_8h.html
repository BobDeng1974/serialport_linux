<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Serial Port: /home/latelee/test/serialport_linux/src/debug-msg.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>/home/latelee/test/serialport_linux/src/debug-msg.h File Reference</h1>Some macros(debug, error handle) usually used in my programs. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>

<p>
<a href="debug-msg_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a0">error_exit</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg and exit.  <a href="#a0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a1">error_ret</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg and return -1.  <a href="#a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a2">unix_error_exit</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'.  <a href="#a2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a3">unix_error_ret</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg(with errno) and then return -1. I put 'unix' before the 'function' name because I am using 'errno'.  <a href="#a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a4">unix_print_error</a>(error)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'.<br>
 This error handle(detail version) can show the <code>file</code>, <code>function</code> and <code>line</code> where the <em>error</em> happens.  <a href="#a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a5">DEBUG</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a6" doxytag="debug-msg.h::debug_msg" ></a>
#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a6">debug_msg</a>(fmt,)&nbsp;&nbsp;&nbsp;fprintf(stdout, fmt, ##__VA_ARGS__)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that prints the debug msg, as the same with <em>printf</em>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a7">TRACE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="debug-msg_8h.html#a8">debug_trace</a>(trace)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro that traces the <code>file</code>, <code>function</code> and <code>line</code>.  <a href="#a8"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Some macros(debug, error handle) usually used in my programs. 
<p>
_/_/ _/_/_/_/ _/_/_/_/_/ _/ _/ _/ _/ _/ _/ _/ _/ _/_/ _/ _/ _/ _/ _/ _/ _/ _/ _/ _/_/_/ _/_/_/_/ _/_/_/ Copyleft (C) 2010 Late Lee This program is tested on LINUX PLATFORM, WITH GCC 4.x. The program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY. Please feel free to use the program, and I feel free to ignore the related issues. Any questions or suggestions, or bugs, please contact me at &lt;$ echo -n "aHR0cDovL3d3dy5sYXRlbGVlLm9yZwo=" | base64 -d&gt; or e-mail to &lt;$ echo -n "bGF0ZWxlZUAxNjMuY29tCg==" | base64 -d&gt; if you want to do this.<p>
<dl compact><dt><b>Author:</b></dt><dd>Late Lee </dd></dl>
<dl compact><dt><b>Date:</b></dt><dd>2010 </dd></dl>
<p>
<dl compact><dt><b><a class="el" href="test.html#_test000001">Test:</a></b></dt><dd>I only use this file on linux(with x86 &amp; arm) platform. </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a5" doxytag="debug-msg.h::DEBUG" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DEBUG&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
we debug all the time     </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="debug-msg.h::debug_trace" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define debug_trace          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">trace&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div>fprintf(stdout, <span class="stringliteral">"%s File:%s Line:%d Func:%s.\n"</span>,   \
            trace, __FILE__, __LINE__, __func__)
</div></pre>A macro that traces the <code>file</code>, <code>function</code> and <code>line</code>. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="debug-msg.h::error_exit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define error_exit          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">error&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><span class="keywordflow">do</span>{                                         \
        fprintf(stderr, <span class="stringliteral">"%s\n"</span>, error);         \
        exit(0);                                \
    } <span class="keywordflow">while</span>(0)
</div></pre>A macro that prints the <em>error</em> msg and exit. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="debug-msg.h::error_ret" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define error_ret          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">error&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><span class="keywordflow">do</span>{                                           \
        fprintf(stderr, <span class="stringliteral">"%s\n"</span>, error);           \
        <span class="keywordflow">return</span> -1;                                \
    } <span class="keywordflow">while</span>(0)
</div></pre>A macro that prints the <em>error</em> msg and return -1. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="debug-msg.h::TRACE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define TRACE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
we trace all the time     </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="debug-msg.h::unix_error_exit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define unix_error_exit          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">error&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><span class="keywordflow">do</span>{                                         \
        fprintf(stderr, <span class="stringliteral">"%s Info[%d]:%s\n"</span>,     \
                error, errno, strerror(errno)); \
        exit(1);                                \
    } <span class="keywordflow">while</span>(0)
</div></pre>A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="debug-msg.h::unix_error_ret" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define unix_error_ret          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">error&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><span class="keywordflow">do</span>{                                         \
        fprintf(stderr, <span class="stringliteral">"%s Info[%d]:%s\n"</span>,     \
                error, errno, strerror(errno)); \
        <span class="keywordflow">return</span> -1;                              \
    } <span class="keywordflow">while</span>(0)
</div></pre>A macro that prints the <em>error</em> msg(with errno) and then return -1. I put 'unix' before the 'function' name because I am using 'errno'. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="debug-msg.h::unix_print_error" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define unix_print_error          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">error&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><pre class="fragment"><div><span class="keywordflow">do</span> {                                                        \
        fprintf(stderr, <span class="stringliteral">"Oh God!\nFile:%s Line:%d Function:%s:\n"</span>,  \
                __FILE__, __LINE__, __func__);                      \
        perror(error);                                              \
        exit(0);                                                    \
    } <span class="keywordflow">while</span>(0)
</div></pre>A macro that prints the <em>error</em> msg(with errno) and then exit. I put 'unix' before the 'function' name because I am using 'errno'.<br>
 This error handle(detail version) can show the <code>file</code>, <code>function</code> and <code>line</code> where the <em>error</em> happens. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>I do not often use this 'function' in my program. </dd></dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sun Apr 7 12:56:56 2013 for Serial Port by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
